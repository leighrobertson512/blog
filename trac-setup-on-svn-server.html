<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="This entry documents the setup for a new project/group setup when using self-hosted SVN in lieu of github. We are using a server that hosts both SVN as well as several trac instances. This server...">
        <meta name="keywords" content="self-hosted, svn, trac">
        <link rel="icon" href="/favicon.ico">

        <title>Trac setup on SVN server - The Art of Technology... Training</title>

        <!-- Stylesheets -->
        <link href="/theme/css/bootstrap.min.css" rel="stylesheet">
        <link href="/theme/css/fonts.css" rel="stylesheet">
        <link href="/theme/css/nest.css" rel="stylesheet">
        <link href="/theme/css/pygment.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="The Art of Technology... Training Full Atom Feed" />
        <link href="/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="The Art of Technology... Training Categories Atom Feed" />
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->



    </head>

    <body>

        <!-- Header -->
    <div class="header-container" style="background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url('/images/raspberry-pi-stock.jpg'); background-position: center; background-size: cover;">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="/"><img class="mr20" src="/images/small-icon.png" alt="logo">The Art of Technology... Training</a>
                    </div>
                    <div class="nav pull-right">
                                <a href="http://techemstudios.com">Tech Em</a>
                                <a href="http://techemstudios.com/about-us">About</a>
                                <a href="https://github.com/techemstudios/blog/blob/master/LICENSE">License</a>
                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">Trac setup on SVN server</h1>
                      <p class="header-date"> <a href="/author/wray-mills.html">Wray Mills</a>, 2014-05-27,  <a href="/category/notes.html">Notes</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
<a href="/tag/self-hosted.html">self-hosted</a>, <a href="/tag/svn.html">svn</a>, <a href="/tag/trac.html">trac</a>                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <p>This entry documents the setup for a new project/group setup when using self-hosted SVN in lieu of github.</p>
<p>We are using a server that hosts both SVN as well as several trac instances. This server resides within our internal restricted network. We'll refer to the trac/svn server as trac-1.</p>
<p>SVN -</p>
<div class="highlight"><pre><span></span>sudo svnadmin create in /Users/svn
sudo chgrp -R _www # for Apache svn service access
sudo chmod -R g+w
</pre></div>


<p>Add permissions for developers in ${app_root}/.svn_authz</p>
<p>Can access via https://${trac-1.domain}/scc/${new_project} # via apache proxy connecting to specific trac instance port.</p>
<p>Then, you can do an svn import -m "initial import"</p>
<p>Trac - (now up to version 1.0.1)</p>
<div class="highlight"><pre><span></span>trac-admin <span class="cp">${</span><span class="n">app_root</span><span class="cp">}</span>/<span class="cp">${</span><span class="n">new_project</span><span class="cp">}</span>-trac initenv
trac-admin <span class="cp">${</span><span class="n">app_root</span><span class="cp">}</span>/<span class="cp">${</span><span class="n">new_project</span><span class="cp">}</span>-trac permission add <span class="cp">${</span><span class="n">admin_user</span><span class="cp">}</span> TRAC_ADMIN
</pre></div>


<p>Adjust trac.conf for:</p>
<ul>
<li>attachment size</li>
<li>email settings (including default notification settings)</li>
<li>svn settings! (Trac 1.0.1 does not favor or default to svn, so the svn modules need to be turned on in the conf file before you can set the repository in the interface). There is a link I should add here.</li>
</ul>
<p>Immediately go in and adjust permissions to give unauthenticated none</p>
<p>Re-arrange permissions to give authenticated a rather large set of permissions (use another project as a template).</p>
<p>Configure the default repository.</p>
<p>Launch on specific port (add to crontab @reboot) -</p>
<div class="highlight"><pre><span></span>tracd -s -- port <span class="cp">${</span><span class="n">project_port</span><span class="cp">}</span> --auth=<span class="cp">${</span><span class="n">new_project</span><span class="cp">}</span> trac,<span class="cp">${</span><span class="n">app_root</span><span class="cp">}</span>/.htdigest,&#39;<span class="cp">${</span><span class="n">new_project</span><span class="cp">}</span>&#39; --base-path=<span class="cp">${</span><span class="n">app_root</span><span class="cp">}</span>/<span class="cp">${</span><span class="n">new_project</span><span class="cp">}</span>-trac
</pre></div>


<p>Finally, add users to the htdigest, update their name and email and notify them of their new credentials.</p>


        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title"></div>
                        <ul class="list-unstyled">
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"></a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title"></div>
                        <ul class="list-unstyled">
                            <li><a href="http://twitter.com/techemrva" target="_blank">@TechEmRVA</a></li>
                            <li><a href="https://github.com/techemstudios" target="_blank">TechEm on GitHub</a></li>
                            <li><a href="http://facebook.com/techemstudios" target="_blank">TechEm on FB</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title"></div>
                        <ul class="list-unstyled">
                            <li><a href="http://techemstudios.com" target="_blank">Tech Em Studios</a></li>
                            <li><a href="http://register.techemstudios.com" target="_blank">Register!</a></li>
                            <li><a href="https://secure.techemstudios.com" target="_blank">Enrollment</a></li>
                            <li><a href="http://python.org/" target="_blank">Python.org</a></li>
                            <li><a href="http://getpelican.com" target="_blank">Pelican</a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small></small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>